<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
  <a class="navbar-brand" routerLink="/recettes">Les Saveurs de Tunisie</a>
  <ul class="navbar-nav ms-auto">
    <li class="nav-item"><a class="nav-link" routerLink="/admin/dashboard">Accueil</a></li>
    <li class="nav-item"><a class="nav-link" routerLink="/admin/add">Ajouter recette</a></li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/admin/NewPassword">modifier mot de passe</a>
    </li>
  </ul>
</nav>

<form
  [formGroup]="passwordForm"
  (ngSubmit)="OnChangePassword()"
  class="p-4 shadow rounded bg-light"
  style="max-width: 500px; margin: auto"
>
  <h2 class="text-center mb-4">Modifier le mot de passe</h2>

  <div class="mb-3">
    <label for="currentPassword" class="form-label">Mot de passe actuel</label>
    <input type="password" class="form-control" formControlName="currentPassword" />
  </div>
  @if(password!=getcurrentpassword?.value && this.getcurrentpassword?.dirty){
  <div class="alert alert-danger">Mot de passe incorrect</div>
  }
  <div class="mb-3">
    <label for="newPassword" class="form-label">Nouveau mot de passe</label>
    <input type="password" class="form-control" formControlName="newPassword" />
  </div>

  <div class="mb-3">
    <label for="confirmPassword" class="form-label">Confirmer le mot de passe *</label>
    <input type="password" class="form-control" formControlName="confirmPassword" />
  </div>

  @if (MatchPassword()) {
  <div class="alert alert-warning py-2">Les mots de passe doivent Ãªtre identiques</div>
  }

  <div class="text-center mt-3">
    <button type="submit" class="btn btn-primary w-100" [disabled]="passwordForm.invalid">
      Modifier
    </button>
  </div>
</form>
